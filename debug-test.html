<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π - –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–æ–≤—Ä–æ–≤</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .test-button {
            background: #0088cc;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #006699;
        }
        .result {
            background: #e8f5e8;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            border-left: 4px solid #28a745;
        }
        .error {
            background: #ffeaea;
            border-left-color: #dc3545;
        }
        .console-output {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 10px;
            font-family: monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –∫–æ–≤—Ä–æ–≤</h1>
    
    <div class="test-container">
        <h2>–¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π</h2>
        <p>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)</p>
        <button class="test-button" onclick="testPackageSelection()">–¢–µ—Å—Ç –≤—ã–±–æ—Ä–∞ –ø–∞–∫–µ—Ç–∞</button>
        <button class="test-button" onclick="testPileSelection()">–¢–µ—Å—Ç –≤—ã–±–æ—Ä–∞ –≤–æ—Ä—Å–∞</button>
        <button class="test-button" onclick="testShareFunction()">–¢–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
        <div id="test-result" class="result" style="display: none;"></div>
    </div>

    <div class="test-container">
        <h2>–¢–µ—Å—Ç 2: –°–∏–º—É–ª—è—Ü–∏—è –∫–ª–∏–∫–æ–≤</h2>
        <p>–°–∏–º—É–ª—è—Ü–∏—è –∫–ª–∏–∫–æ–≤ –ø–æ –∫–Ω–æ–ø–∫–∞–º –≤—ã–±–æ—Ä–∞ —É—Å–ª—É–≥</p>
        <button class="test-button" onclick="simulatePackageClick()">–°–∏–º—É–ª—è—Ü–∏—è –∫–ª–∏–∫–∞ –ø–æ "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π"</button>
        <button class="test-button" onclick="simulatePileClick()">–°–∏–º—É–ª—è—Ü–∏—è –∫–ª–∏–∫–∞ –ø–æ "–ö–æ—Ä–æ—Ç–∫–∏–π –≤–æ—Ä—Å"</button>
        <div id="simulation-result" class="result" style="display: none;"></div>
    </div>

    <div class="test-container">
        <h2>–ö–æ–Ω—Å–æ–ª—å –æ—Ç–ª–∞–¥–∫–∏</h2>
        <div id="console-output" class="console-output"></div>
        <button class="test-button" onclick="clearConsole()">–û—á–∏—Å—Ç–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å</button>
    </div>

    <div class="test-container">
        <h2>üîó –°—Å—ã–ª–∫–∏</h2>
        <a href="index.html" class="test-button" style="text-decoration: none; display: inline-block;">–û—Ç–∫—Ä—ã—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</a>
    </div>

    <script>
        // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º console.log –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
        const originalLog = console.log;
        const originalError = console.error;
        
        function addToConsole(message, type = 'log') {
            const consoleOutput = document.getElementById('console-output');
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.innerHTML = `<span style="color: #666;">[${timestamp}]</span> <span style="color: ${type === 'error' ? 'red' : 'black'};">${message}</span>`;
            consoleOutput.appendChild(logEntry);
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        }
        
        console.log = function(...args) {
            originalLog.apply(console, args);
            addToConsole(args.join(' '), 'log');
        };
        
        console.error = function(...args) {
            originalError.apply(console, args);
            addToConsole(args.join(' '), 'error');
        };

        function testPackageSelection() {
            console.log('–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –ø–∞–∫–µ—Ç–∞...');
            const result = document.getElementById('test-result');
            result.style.display = 'block';
            result.innerHTML = '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –¥–ª—è –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏';
        }

        function testPileSelection() {
            console.log('–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –≤–æ—Ä—Å–∞...');
            const result = document.getElementById('test-result');
            result.style.display = 'block';
            result.innerHTML = '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –¥–ª—è –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏';
        }

        function testShareFunction() {
            console.log('–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è...');
            
            // –°–∏–º—É–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
            const testData = {
                package: 'premium',
                pile: 'long',
                length: 2.5,
                width: 1.5,
                odorRemoval: true,
                orderNumber: 'TEST123'
            };
            
            const prices = {
                standard: { short: 10, long: 11 },
                premium: { short: 13, long: 15 }
            };
            
            const area = testData.length * testData.width;
            const pricePerSquareMeter = prices[testData.package][testData.pile];
            let totalPrice = area * pricePerSquareMeter;
            
            if (testData.odorRemoval) {
                totalPrice += 25;
            }
            
            const shareText = `üß© –†–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —á–∏—Å—Ç–∫–∏ –∫–æ–≤—Ä–∞

–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞: ${testData.orderNumber}
–ü–∞–∫–µ—Ç —É—Å–ª—É–≥: –ü—Ä–µ–º–∏—É–º
–¢–∏–ø –≤–æ—Ä—Å–∞: –î–ª–∏–Ω–Ω—ã–π
–ü–ª–æ—â–∞–¥—å: ${area.toFixed(1)} –º¬≤
–î–æ–ø.—É—Å–ª—É–≥–∞: –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∞—Ö–∞ ‚Äî –¥–∞
–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: ${Math.round(totalPrice)} —Ä—É–±–ª–µ–π

–†–∞—Å—Å—á–∏—Ç–∞–Ω–æ –≤ Telegram Mini App "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–æ–≤—Ä–æ–≤"`;

            console.log('–¢–µ—Å—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –ø–æ–¥–µ–ª–∏—Ç—å—Å—è:', shareText);
            
            // –¢–µ—Å—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
            if (navigator.clipboard) {
                navigator.clipboard.writeText(shareText).then(() => {
                    console.log('‚úÖ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ');
                    const result = document.getElementById('test-result');
                    result.style.display = 'block';
                    result.innerHTML = '‚úÖ –¢–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç!';
                }).catch((error) => {
                    console.error('‚ùå –û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:', error);
                    const result = document.getElementById('test-result');
                    result.style.display = 'block';
                    result.className = 'result error';
                    result.innerHTML = '‚ùå –û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞';
                });
            } else {
                console.log('‚ùå Clipboard API –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω');
                const result = document.getElementById('test-result');
                result.style.display = 'block';
                result.className = 'result error';
                result.innerHTML = '‚ùå Clipboard API –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —ç—Ç–æ–º –±—Ä–∞—É–∑–µ—Ä–µ';
            }
        }

        function simulatePackageClick() {
            console.log('–°–∏–º—É–ª—è—Ü–∏—è –∫–ª–∏–∫–∞ –ø–æ –∫–Ω–æ–ø–∫–µ "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π"...');
            
            // –°–æ–∑–¥–∞—ë–º —Ç–µ—Å—Ç–æ–≤—É—é –∫–Ω–æ–ø–∫—É
            const testBtn = document.createElement('button');
            testBtn.setAttribute('data-package', 'standard');
            testBtn.innerHTML = '<div class="option-title">üü© –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π</div><div class="option-price">–æ—Ç 10 —Ä—É–±/–º¬≤</div>';
            
            // –°–∏–º—É–ª–∏—Ä—É–µ–º –∫–ª–∏–∫
            const clickEvent = new MouseEvent('click', {
                bubbles: true,
                cancelable: true,
                view: window
            });
            
            testBtn.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                const packageType = e.currentTarget.dataset.package;
                console.log('‚úÖ –°–∏–º—É–ª—è—Ü–∏—è –∫–ª–∏–∫–∞: Package selected:', packageType);
            });
            
            testBtn.dispatchEvent(clickEvent);
            
            const result = document.getElementById('simulation-result');
            result.style.display = 'block';
            result.innerHTML = '‚úÖ –°–∏–º—É–ª—è—Ü–∏—è –∫–ª–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å.';
        }

        function simulatePileClick() {
            console.log('–°–∏–º—É–ª—è—Ü–∏—è –∫–ª–∏–∫–∞ –ø–æ –∫–Ω–æ–ø–∫–µ "–ö–æ—Ä–æ—Ç–∫–∏–π –≤–æ—Ä—Å"...');
            
            // –°–æ–∑–¥–∞—ë–º —Ç–µ—Å—Ç–æ–≤—É—é –∫–Ω–æ–ø–∫—É
            const testBtn = document.createElement('button');
            testBtn.setAttribute('data-pile', 'short');
            testBtn.innerHTML = '<div class="option-title">–ö–æ—Ä–æ—Ç–∫–∏–π –≤–æ—Ä—Å</div><div class="option-price">10 —Ä—É–±/–º¬≤</div>';
            
            // –°–∏–º—É–ª–∏—Ä—É–µ–º –∫–ª–∏–∫
            const clickEvent = new MouseEvent('click', {
                bubbles: true,
                cancelable: true,
                view: window
            });
            
            testBtn.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                const pileType = e.currentTarget.dataset.pile;
                console.log('‚úÖ –°–∏–º—É–ª—è—Ü–∏—è –∫–ª–∏–∫–∞: Pile selected:', pileType);
            });
            
            testBtn.dispatchEvent(clickEvent);
            
            const result = document.getElementById('simulation-result');
            result.style.display = 'block';
            result.innerHTML = '‚úÖ –°–∏–º—É–ª—è—Ü–∏—è –∫–ª–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å.';
        }

        function clearConsole() {
            document.getElementById('console-output').innerHTML = '';
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        console.log('–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
        console.log('–û—Ç–∫—Ä–æ–π—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π');
    </script>
</body>
</html>
